# Go言語を活用したシンプルなToDoアプリ

## 概要
シンプルで使いやすいToDoアプリケーションです。
フロントエンドとバックエンドの分離された設計で、Vercelでホスティングされています。

このプロジェクトを通じて学べること：
- フロントエンドとバックエンドの分離アーキテクチャ
- サーバーレス関数の基本概念
- RESTful APIの設計と実装
- 非同期通信（Fetch API）の使い方
- モダンなWebアプリケーションの構築方法

## デモ
https://go-todo-git-main-masa-yoshidas-projects.vercel.app/

## 機能と技術的なポイント
### 1. ToDoの追加
- フロントエンド：FormのSubmitイベント処理
- バックエンド：POSTリクエストの処理
- データの受け渡し：JSON形式

### 2. ToDoの一覧表示
- フロントエンド：DOMの動的な操作
- バックエンド：GETリクエストの処理
- データの永続化：メモリ上の管理（実践的にはデータベースを使用）

### 3. ToDoの完了/未完了の切り替え
- フロントエンド：イベント委譲によるイベント処理
- バックエンド：PUTリクエストの処理
- 状態管理：同期的なUI更新

### 4. ToDoの削除
- フロントエンド：要素の動的な削除
- バックエンド：DELETEリクエストの処理
- エラーハンドリング

## 技術スタックの解説
### フロントエンド
- HTML/CSS：モダンなレイアウト（Flexbox使用）
- JavaScript (Vanilla)：
  - Fetch APIによる非同期通信
  - イベント委譲によるパフォーマンス最適化
  - DOMの動的な操作

### バックエンド
- Go言語：
  - 並行処理（goroutine, mutex）
  - HTTPサーバーの実装
  - JSONのエンコード/デコード
- Vercel Serverless Functions：
  - サーバーレスアーキテクチャ
  - スケーラブルな実行環境
  - 簡単なデプロイフロー

## プロジェクト構成の詳細説明
```
go_todo/
├── api/
│   └── todos.go      # サーバーレス関数（バックエンドのメイン処理）
│                     # - HTTPリクエストのハンドリング
│                     # - ToDoデータの管理
│                     # - CORSの設定
│
├── public/
│   └── index.html    # フロントエンド（クライアントサイドの実装）
│                     # - UIの構造（HTML）
│                     # - スタイリング（CSS）
│                     # - インタラクション（JavaScript）
│
├── go.mod           # Goの依存関係管理ファイル
│                    # - プロジェクトの識別子
│                    # - Goのバージョン指定
│
└── vercel.json      # Vercelの設定ファイル
                     # - デプロイ設定
                     # - ルーティング設定
                     # - ビルド設定
```

## 開発環境のセットアップ（詳細手順）
1. リポジトリのクローン
```bash
# GitHubからプロジェクトをローカルにコピー
git clone https://github.com/masvc/Go_todo.git
cd Go_todo
```

2. Vercel CLIのインストール
```bash
# Node.jsのパッケージマネージャー(npm)を使用してVercel CLIをインストール
npm install -g vercel
```

3. 開発サーバーの起動
```bash
# Vercelの開発環境を起動
vercel dev  # localhost:3000でサーバーが起動します
```

4. ブラウザでアクセス
- http://localhost:3000 にアクセス
- 開発者ツールを開いてネットワークタブを確認すると、APIとの通信が見えます

## デプロイ手順（詳細）
1. Vercel CLIでログイン
```bash
vercel login  # ブラウザが開いてGitHubアカウントでの認証が求められます
```

2. デプロイの実行
```bash
vercel  # 対話式の設定が始まります
        # - プロジェクト名の設定
        # - 環境の選択
        # - ビルド設定の確認
```

## アーキテクチャの解説
1. フロントエンド（public/index.html）
   - シングルページアプリケーション（SPA）の設計
   - イベント駆動型のUIアップデート
   - 非同期通信による円滑なユーザー体験

2. バックエンド（api/todos.go）
   - RESTful APIの設計原則に従った実装
   - ステートレスなリクエスト処理
   - スレッドセーフなデータ管理

3. デプロイ（vercel.json）
   - エッジネットワークを活用した高速な配信
   - サーバーレスアーキテクチャによる自動スケーリング
   - 継続的デプロイメント（CD）の実現

## 注意点と発展的な学習項目
### 現在の制限事項
- データはメモリ上に保存されるため、サーバーレス関数が再起動されるとデータは失われます
- 同時アクセスに関する考慮が必要です（mutexによる排他制御を実装済み）

### 発展的な実装アイデア
1. データベースの統合
   - Supabase（PostgreSQL）との連携
   - MongoDB Atlasの利用
   - Redis for キャッシュ

2. 認証機能の追加
   - JWT認証の実装
   - OAuth2.0による外部認証

3. テスト実装
   - ユニットテスト
   - 統合テスト
   - E2Eテスト

4. パフォーマンス最適化
   - キャッシュ戦略
   - バンドルサイズの最適化
   - レスポンス時間の改善

## ライセンス
MIT

## 貢献について
プルリクエストや提案は大歓迎です。以下の手順で貢献できます：
1. このリポジトリをフォーク
2. 新しいブランチを作成 (`git checkout -b feature/amazing-feature`)
3. 変更をコミット (`git commit -m 'Add amazing feature'`)
4. ブランチをプッシュ (`git push origin feature/amazing-feature`)
5. プルリクエストを作成

## Go言語学習のポイント
### 1. モジュールとパッケージ管理
#### 相対パスとモジュールの違い
```go
// 非推奨：相対パスによるインポート
import "./todo"

// 推奨：モジュール名に基づくインポート
import "go_todo/todo"
```

相対パスが使えない理由：
- Goのモジュールシステムは再現可能なビルドを重視
- 相対パスは環境依存になりやすく、再現性を損なう可能性がある
- `go.mod`でのモジュール定義により、依存関係が明確になる

#### プロジェクト構造
```
go_todo/
├── go.mod         # モジュール定義
├── main.go        # メインパッケージ
└── todo/          # 独自パッケージ
    └── todo.go    # Todoの実装
```

### 2. 実践的な学習要素
#### 基本コマンド
```bash
# モジュールの初期化
go mod init go_todo

# 依存関係の管理
go mod tidy

# テストの実行
go test ./...

# ビルド
go build
```

#### 学べる技術要素
1. **パッケージ設計**
   - 適切なパッケージ分割
   - インターフェースの設計
   - コードの再利用性

2. **Webアプリケーション開発**
   - HTTPハンドラーの実装
   - ルーティング設計
   - ミドルウェアの作成

3. **データ構造と並行処理**
   - 構造体の設計
   - mutexによる排他制御
   - goroutineの活用（発展）

4. **APIデザイン**
   - RESTful API設計
   - JSONのエンコード/デコード
   - エラーハンドリング

### 3. 発展的な学習項目
1. **テスト駆動開発（TDD）**
   ```go
   func TestAddTodo(t *testing.T) {
       // テストケースの実装
   }
   ```

2. **データベース連携**
   - SQLデータベースとの接続
   - ORMの活用
   - トランザクション管理

3. **認証・認可**
   - JWTの実装
   - ミドルウェアでの認証処理
   - セッション管理

4. **パフォーマンス最適化**
   - キャッシュ戦略
   - データベースクエリの最適化
   - 負荷テスト

### 4. ベストプラクティス
1. **コード品質**
   - エラーハンドリング
   - ログ出力
   - コメント記述

2. **セキュリティ**
   - 入力値のバリデーション
   - SQLインジェクション対策
   - XSS対策

3. **デプロイメント**
   - Docker化
   - CI/CD
   - 環境変数の管理

このプロジェクトを通じて、Goの基本から実践的なWeb開発まで、幅広いスキルを習得できます。
特にパッケージ管理とモジュールシステムの理解は、実務でのGo開発において重要なスキルとなります。
